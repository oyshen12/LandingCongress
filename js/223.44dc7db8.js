"use strict";(self["webpackChunklanding"]=self["webpackChunklanding"]||[]).push([[223],{5223:function(s,r,t){t.r(r),t.d(r,{default:function(){return f}});var o=t(5125),e=function(){var s=this,r=s._self._c;s._self._setupProxy;return r("div",{staticClass:"reset"},[r("div",{staticClass:"reset__title text24 bold"},[s._v("Восстановление пароля")]),r("div",{staticClass:"reset__inputs"},[s.inputErrors.common?r("div",{staticClass:"text24 red--text align-self-start mb-4"},[s._v(" "+s._s(s.inputErrors.common)+" ")]):s._e(),r(o.Z,{ref:"formCabinet",staticClass:"reset__inputs-form"},[r("MainInput",{attrs:{value:s.password,error:""!==s.inputErrors.password,"error-message":s.inputErrors.password,label:"Придумайте новый пароль",min:"6",rules:["required"],"type-password":""},on:{input:function(r){s.password=r}}}),r("MainInput",{attrs:{value:s.passwordConfirm,error:""!==s.inputErrors.confirm_password,"error-message":s.inputErrors.confirm_password,min:"6",label:"Подтвердите пароль",rules:["required"],"type-password":"","pass-comparison":[s.password,s.passwordConfirm]},on:{input:function(r){s.passwordConfirm=r}}})],1),r("MainButton",{staticClass:"reset__button",attrs:{loading:s.loadingPasswordRequest,height:"40","color-red":""},on:{click:s.resetPassword}},[s._v("Сменить пароль ")])],1)])},a=[],i=(t(7658),t(144)),n=t(629),d=t(1543),p=t(7818),u=i.ZP.extend({name:"RegisterPage",components:{MainInput:d.Z,MainButton:p.Z},data(){return{password:"",passwordConfirm:"",loadingPasswordRequest:!1,inputErrors:{password:"",confirm_password:"",common:""}}},computed:{formCabinet(){return this.$refs.formCabinet}},methods:{...(0,n.OI)(["setUser","setAuthed"]),resetPassword(){const s=this.formCabinet.validate();if(s){this.loadingPasswordRequest=!0;const s=this.$route.query.id,r=this.$route.query.key;this.api.post("/back/api/password-change",{id:s,key:r,password:this.password,confirm_password:this.passwordConfirm}).then((()=>{this.openAlert("Пароль успешно изменён"),this.$router.push({name:"Login"})})).catch((s=>{const r=s?.response?.data;400===s?.response?.status&&"Errors of validation"===r.name&&(r.fail.password&&(this.inputErrors.password=r.fail.password[0]),r.fail.confirm_password&&(this.inputErrors.confirm_password=r.fail.confirm_password[0]),r.message&&(this.inputErrors.common=r.message))})).finally((()=>{this.loadingPasswordRequest=!1}))}}}}),l=u,c=t(3736),m=(0,c.Z)(l,e,a,!1,null,"1567d3dc",null),f=m.exports}}]);
//# sourceMappingURL=223.44dc7db8.js.map