{"version":3,"file":"js/223.44dc7db8.js","mappings":"wKAA4CA,EAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAACG,EAAY,kBAAO,OAAM,QAAM,CAACA,YAAY,SAA4B,CAACC,EAAG,MAAI,CAAqCD,YAAY,4BAAiB,CAAEC,EAAIC,GAAAA,2BAA6B,SAACF,YAAY,iBAA0C,CAACC,EAAIE,YAAU,OAAQD,EAAAA,MAAW,CAAsCE,YAAI,0CAAcJ,CAAAA,EAAAA,GAAAA,IAAY,gDAAqB,IAAK,cAAaK,YAAM,sB,CAAC,cAAYC,C,MAAS,CAAwC,iBAAyC,MAAiC,KAAzB,uBAA0B,gBAAS,uBAAC,MAAQ,0BAAa,QAAmB,mBAAG,gBAAC,I,GAA0BL,CAAqB,kBAAC,YAAIJ,KAAuB,cAAYU,C,MAAgB,CAAgD,wBAAiD,MAAS,KAAH,EAAG,6BAAC,gBAAQ,cAAoB,iBAAC,IAAO,IAAc,2BAAmB,mBAAsD,mBAAG,kBAAC,gC,GAA0BN,CAA4B,kBAAC,mBAAI,MAAiDI,GAAM,gB,YAAWJ,gB,MAA2B,CAAc,QAAW,EAAC,uBAAG,YAAG,YAAC,IAA0B,IAAIA,MAAO,kBAEntCO,CAAAA,EAAAA,GAAAA,sBAAoB,IAExB,E,qDCGA,EAAeC,EAAAA,GAAAA,OAAW,CACxBC,KAAM,eACNC,WAAY,CAAEC,UAAS,IAAEC,WAAUA,EAAAA,GACnCC,OACE,MAAO,CACLR,SAAU,GACVC,gBAAiB,GACjBQ,wBAAwB,EACxBb,YAAa,CACXI,SAAU,GACVU,iBAAkB,GAClBC,OAAQ,IAGd,EACAC,SAAU,CACRC,cACE,OAAOC,KAAKC,MAAMF,WACpB,GAEFG,QAAS,KACJC,EAAAA,EAAAA,IAAa,CAAC,UAAW,cAC5BC,gBACE,MAAMC,EAAQL,KAAKD,YAAYO,WAC/B,GAAID,EAAO,CACTL,KAAKL,wBAAyB,EAC9B,MAAMY,EAAKP,KAAKQ,OAAOC,MAAMF,GACvBG,EAAMV,KAAKQ,OAAOC,MAAMC,IAE9BV,KAAKW,IACFC,KAAKC,4BAAyC,CAC7CN,KACAG,MACAxB,SAAUc,KAAKd,SACfU,iBAAkBI,KAAKb,kBAExB2B,MAAK,KACJd,KAAKe,UAAU,0BACff,KAAKgB,QAAQC,KAAK,CAAE3B,KAAM,SAAU,IAErC4B,OAAOC,IACN,MAAMzB,EAAOyB,GAAOC,UAAU1B,KAEA,MAA5ByB,GAAOC,UAAUC,QACH,yBAAd3B,EAAKJ,OAEDI,EAAK4B,KAAKpC,WACZc,KAAKlB,YAAYI,SAAWQ,EAAK4B,KAAKpC,SAAS,IAE7CQ,EAAK4B,KAAK1B,mBACZI,KAAKlB,YAAYc,iBACfF,EAAK4B,KAAK1B,iBAAiB,IAE3BF,EAAK6B,UACPvB,KAAKlB,YAAYe,OAASH,EAAK6B,S,IAIpCC,SAAQ,KACPxB,KAAKL,wBAAyB,CAAK,G,CAG3C,KCrEqV,I,UCQrV8B,GAAY,OACd,EACAC,EACAtC,GACA,EACA,KACA,WACA,MAIF,EAAeqC,EAAiB,O","sources":["webpack://landing/./src/views/Authorization/PasswordReset/PasswordReset.vue","webpack://landing/./src/views/Authorization/PasswordReset/PasswordReset.vue?8bcb","webpack://landing/./src/views/Authorization/PasswordReset/PasswordReset.vue?21fa","webpack://landing/./src/views/Authorization/PasswordReset/PasswordReset.vue?7886"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"reset\"},[_c('div',{staticClass:\"reset__title text24 bold\"},[_vm._v(\"Восстановление пароля\")]),_c('div',{staticClass:\"reset__inputs\"},[(_vm.inputErrors.common)?_c('div',{staticClass:\"text24 red--text align-self-start mb-4\"},[_vm._v(\" \"+_vm._s(_vm.inputErrors.common)+\" \")]):_vm._e(),_c('v-form',{ref:\"formCabinet\",staticClass:\"reset__inputs-form\"},[_c('MainInput',{attrs:{\"value\":_vm.password,\"error\":_vm.inputErrors.password !== '',\"error-message\":_vm.inputErrors.password,\"label\":\"Придумайте новый пароль\",\"min\":\"6\",\"rules\":['required'],\"type-password\":\"\"},on:{\"input\":function($event){_vm.password = $event}}}),_c('MainInput',{attrs:{\"value\":_vm.passwordConfirm,\"error\":_vm.inputErrors.confirm_password !== '',\"error-message\":_vm.inputErrors.confirm_password,\"min\":\"6\",\"label\":\"Подтвердите пароль\",\"rules\":['required'],\"type-password\":\"\",\"pass-comparison\":[_vm.password, _vm.passwordConfirm]},on:{\"input\":function($event){_vm.passwordConfirm = $event}}})],1),_c('MainButton',{staticClass:\"reset__button\",attrs:{\"loading\":_vm.loadingPasswordRequest,\"height\":\"40\",\"color-red\":\"\"},on:{\"click\":_vm.resetPassword}},[_vm._v(\"Сменить пароль \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from \"vue\";\r\nimport { mapMutations } from \"vuex\";\r\nimport { CustomAxiosError, inputValidate } from \"@/types/types\";\r\nimport MainInput from \"@/components/MainInput/MainInput.vue\";\r\nimport MainButton from \"@/components/MainButton/MainButton.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"RegisterPage\",\r\n  components: { MainInput, MainButton },\r\n  data() {\r\n    return {\r\n      password: \"\",\r\n      passwordConfirm: \"\",\r\n      loadingPasswordRequest: false,\r\n      inputErrors: {\r\n        password: \"\",\r\n        confirm_password: \"\",\r\n        common: \"\",\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    formCabinet(): inputValidate {\r\n      return this.$refs.formCabinet as inputValidate;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"setUser\", \"setAuthed\"]),\r\n    resetPassword() {\r\n      const valid = this.formCabinet.validate();\r\n      if (valid) {\r\n        this.loadingPasswordRequest = true;\r\n        const id = this.$route.query.id;\r\n        const key = this.$route.query.key;\r\n\r\n        this.api\r\n          .post(process.env.VUE_APP_API_CHANGE_PASSWORD, {\r\n            id,\r\n            key,\r\n            password: this.password,\r\n            confirm_password: this.passwordConfirm,\r\n          })\r\n          .then(() => {\r\n            this.openAlert(\"Пароль успешно изменён\");\r\n            this.$router.push({ name: \"Login\" });\r\n          })\r\n          .catch((error: CustomAxiosError) => {\r\n            const data = error?.response?.data;\r\n            if (\r\n              error?.response?.status === 400 &&\r\n              data.name === \"Errors of validation\"\r\n            ) {\r\n              if (data.fail.password) {\r\n                this.inputErrors.password = data.fail.password[0];\r\n              }\r\n              if (data.fail.confirm_password) {\r\n                this.inputErrors.confirm_password =\r\n                  data.fail.confirm_password[0];\r\n              }\r\n              if (data.message) {\r\n                this.inputErrors.common = data.message;\r\n              }\r\n            }\r\n          })\r\n          .finally(() => {\r\n            this.loadingPasswordRequest = false;\r\n          });\r\n      }\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PasswordReset.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PasswordReset.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PasswordReset.vue?vue&type=template&id=1567d3dc&scoped=true&\"\nimport script from \"./PasswordReset.vue?vue&type=script&lang=ts&\"\nexport * from \"./PasswordReset.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PasswordReset.scss?vue&type=style&index=0&id=1567d3dc&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1567d3dc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["_c","_self","_setup","staticClass","_vm","inputErrors","_v","ref","attrs","password","passwordConfirm","staticRenderFns","Vue","name","components","MainInput","MainButton","data","loadingPasswordRequest","confirm_password","common","computed","formCabinet","this","$refs","methods","mapMutations","resetPassword","valid","validate","id","$route","query","key","api","post","process","then","openAlert","$router","push","catch","error","response","status","fail","message","finally","component","render"],"sourceRoot":""}